(library
 (inline_tests)
 (name hashed_tree)
 (libraries base yojson typed_tree shared)
 (modules :standard)
 (preprocess
  (pps
   ppx_assert
   ppx_compare
   ppx_deriving.show
   ppx_inline_test
   ppx_sexp_conv
   sedlex.ppx)))

(rule
 (with-stdout-to
  js_runtime.ml
  (progn
   (echo "let runtime = {|")
   (cat ../../runtimes/javascript.js)
   (echo "|}"))))

